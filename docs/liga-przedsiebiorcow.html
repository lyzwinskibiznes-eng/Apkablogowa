<!doctype html>
<html lang="pl" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Liga Przedsiębiorców 2.0 — Zbuduj swoje Imperium</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Nunito:wght@700;800;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles/liga.css" />
  </head>
  <body data-theme="dark">
    <div id="auth-screen">
      <h1 class="auth-title">Liga Przedsiębiorców</h1>
      <div id="login-container" class="auth-container">
        <h2>Logowanie</h2>
        <div class="input-group">
          <label for="login-username">Nazwa użytkownika</label>
          <input id="login-username" type="text" class="auth-input" required />
        </div>
        <div class="input-group">
          <label for="login-password">Hasło</label>
          <input id="login-password" type="password" class="auth-input" required />
        </div>
        <button id="login-btn" class="auth-btn">Zaloguj się</button>
        <p id="auth-error"></p>
        <p id="auth-toggle">Nie masz konta? <b>Zarejestruj się</b></p>
      </div>
      <div id="register-container" class="auth-container hidden">
        <h2>Rejestracja</h2>
        <div class="input-group">
          <label for="register-username">Nazwa użytkownika</label>
          <input id="register-username" type="text" class="auth-input" required />
        </div>
        <div class="input-group">
          <label for="register-password">Hasło</label>
          <input id="register-password" type="password" class="auth-input" required />
        </div>
        <div class="input-group">
          <label for="register-company">Nazwa firmy</label>
          <input id="register-company" type="text" class="auth-input" required />
        </div>
        <button id="register-btn" class="auth-btn">Stwórz konto</button>
        <p id="auth-error-reg"></p>
        <p id="auth-toggle-login">Masz już konto? <b>Zaloguj się</b></p>
      </div>
    </div>

    <div id="game-container" class="hidden">
      <div class="wrap">
        <aside class="sidebar">
          <div class="brand card">
            <svg
              width="38"
              height="38"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M3 17l6-6 4 4 7-7"
                stroke="#8ef0c0"
                stroke-width="2.3"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M21 10v7h-7"
                stroke="#6ea8ff"
                stroke-width="2.3"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            <div>
              <h1>Liga Przedsiębiorców</h1>
              <div class="tag" id="companyNameTag"></div>
            </div>
          </div>
          <nav class="card" style="padding: 16px; flex-grow: 1">
            <a class="btn active" data-tab="imperium">🏛️ Imperium</a>
            <a class="btn" data-tab="tech">🧠 Umysł Przedsiębiorcy</a>
            <a class="btn" data-tab="market" id="market-nav-btn">📈 Giełda</a>
            <a class="btn" data-tab="quests">🗓️ Zadania</a>
            <a class="btn" data-tab="forum">🗣️ Głos Rynku</a>
            <a class="btn" data-tab="shop">🛍️ Sklep</a>
            <a class="btn" data-tab="ranking">🏆 Ranking</a>
            <a class="btn" data-tab="settings">⚙️ Ustawienia</a>
          </nav>
          <div class="card" style="padding: 16px">
            <div id="admin-login-btn-container">
              <button class="btn btn-ghost" id="admin-login-btn" style="width: 100%">
                Panel Admina
              </button>
            </div>
            <div id="admin-panel-info" class="hidden" style="text-align: center">
              <p>👑 Zalogowano jako <b>Admin</b></p>
              <button class="btn" id="admin-add-btc">Dodaj 100 PW</button>
            </div>
          </div>
        </aside>

        <main class="content">
          <section class="topbar">
            <div class="kpi-grid">
              <div class="kpi">
                <h3>Stan konta</h3>
                <div class="val" id="cash">$0</div>
              </div>
              <div class="kpi">
                <h3>Przychód / s</h3>
                <div class="val" id="ips">$0</div>
              </div>
              <div class="kpi">
                <h3>PW</h3>
                <div class="val" id="btc">0</div>
              </div>
            </div>
            <div class="player-card">
              <div class="player-info">
                <h4 id="playerName">Gość</h4>
                <div class="level">Poziom <span id="level-text">1</span></div>
              </div>
            </div>
          </section>
          <div class="xp-wrap">
            <div style="display: flex; align-items: center; gap: 15px; width: 100%">
              <div class="level-indicator"><span id="level">1</span></div>
              <div class="progress"><i id="xpbar"></i></div>
              <div style="text-align: right; font-size: 13px">
                <span id="xp">0</span> / <span id="xpNext">100</span> XP
              </div>
            </div>
          </div>

          <div id="views-container">
            <section class="section" data-view="imperium">
              <h2>Twoje Imperium Biznesowe</h2>
              <p class="sub">
                Inwestuj w nowe firmy i ulepszaj istniejące, aby zdominować rynek. Każdy kolejny próg (25, 50, 100...) potraja zyski
                firmy!
              </p>
              <div id="companies-grid"></div>
              <div class="grid-2" style="margin-top: 18px">
                <div class="card" style="padding: 20px">
                  <h3>Bonusy Sektorowe</h3>
                  <p class="sub" style="font-size: 13px">
                    Posiadanie wszystkich firm z danego sektora odblokowuje potężne synergie i bonusy do zysków.
                  </p>
                  <div id="sectorStatus">—</div>
                </div>
                <div class="card" style="padding: 20px">
                  <h3>Prestiż</h3>
                  <p class="sub" style="font-size: 13px">
                    Osiągnij 6 poziom, aby odblokować Prestiż. Zresetuj postęp firm za potężny, trwały mnożnik zysków i dostęp do
                    Giełdy!
                  </p>
                  <button class="btn" id="prestigeBtn" disabled>🔁 Wykonaj Prestiż</button>
                  <div id="prestigeInfo" style="margin-top: 10px; font-size: 13px"></div>
                </div>
              </div>
            </section>

            <section class="section hidden" data-view="tech">
              <h2>Umysł Przedsiębiorcy</h2>
              <p class="sub">
                Wydawaj <b>PW (Punkty Wiedzy)</b> na trwałe ulepszenia, które zdefiniują Twoją strategię.
              </p>
              <div class="tree-grid" id="tech-tree-grid"></div>
            </section>

            <section class="section hidden" data-view="market">
              <h2>Giełda: Wall Street Wirtualnych Wilków</h2>
              <p class="sub">
                Kursy zmieniają się co <b>5 minut</b>. Wiadomości z "Głosu Rynku" co <b>10 minut</b> mogą wywołać drastyczne wahania.
                Inwestuj mądrze.
              </p>
              <div class="market-grid" id="market-grid"></div>
              <div class="card" style="margin-top: 18px; padding: 20px">
                <h3>Twoja Spółka na Giełdzie</h3>
                <p class="sub" style="font-size: 13px">
                  Wprowadź swoją firmę na giełdę, aby zdobyć kapitał od inwestorów. Wymaga <b>$100 000</b>.
                </p>
                <button class="btn" id="listCompanyBtn">Wprowadź spółkę na giełdę</button>
              </div>
              <div id="shareholder-panel-container"></div>
            </section>

            <section class="section hidden" data-view="quests">
              <h2>Zadania Przedsiębiorcy</h2>
              <p class="sub">
                Wykonuj zadania, aby zdobywać cenne PW i punkty doświadczenia. Nowe zadania pojawiają się wraz z postępami w grze.
              </p>
              <div id="tasks-grid" style="display: grid; gap: 15px"></div>
            </section>

            <section class="section hidden" data-view="forum">
              <h2>Głos Rynku</h2>
              <p class="sub">
                Śledź wiadomości rynkowe, aby przewidywać ruchy na giełdzie i komunikuj się z innymi graczami.
              </p>
              <div class="forum-container">
                <div class="forum-feed-container">
                  <div class="forum-tabs">
                    <button class="forum-tab active" data-forum-tab="market">Giełda Wilków z Wall Street</button>
                    <button class="forum-tab" data-forum-tab="general">Czat Ogólny</button>
                  </div>
                  <div class="forum-feed" id="forum-feed"></div>
                </div>
                <div class="post-form card">
                  <h3>Napisz Post</h3>
                  <p class="sub" style="font-size: 13px">Podziel się swoją opinią na czacie ogólnym.</p>
                  <textarea id="post-text" placeholder="Twoja wiadomość..."></textarea>
                  <button id="post-submit-btn" class="btn" style="margin-top: 10px; width: 100%">Opublikuj</button>
                </div>
              </div>
            </section>

            <section class="section hidden" data-view="shop">
              <h2>Sklep</h2>
              <p class="sub">
                Inwestuj w narzędzia, które pomogą Ci spersonalizować swoje imperium i zyskać przewagę.
              </p>
              <div class="card" style="padding: 20px">
                <h3>Agent AI do personalizacji</h3>
                <p class="sub" style="font-size: 13px">
                  Kup zaawansowanego agenta AI, aby odblokować możliwość zmiany swojego zdjęcia profilowego. Pokaż innym, kto tu rządzi!
                </p>
                <div id="ai-agent-shop">
                  <p>Koszt: <b>$500 000</b></p>
                  <button class="btn" id="buy-ai-agent-btn">Kup Agenta AI</button>
                </div>
                <div id="avatar-changer" class="hidden">
                  <p>Wklej URL do nowego zdjęcia profilowego:</p>
                  <input type="text" id="avatar-url-input" class="stock-input" placeholder="https://example.com/image.png" />
                  <button id="save-avatar-btn" class="btn" style="margin-top: 10px">Zapisz Avatar</button>
                </div>
              </div>
            </section>

            <section class="section hidden" data-view="ranking">
              <h2>Ranking Przedsiębiorców</h2>
              <p class="sub">
                Zobacz, jak wypadasz na tle innych graczy. Ranking oparty jest na całkowitej wartości netto.
              </p>
              <div id="leaderboard" class="card" style="padding: 20px"></div>
            </section>

            <section class="section hidden" data-view="settings">
              <h2>Ustawienia</h2>
              <p class="sub">Dostosuj grę do swoich preferencji i zarządzaj swoim kontem.</p>
              <div class="settings-grid">
                <div class="setting-card">
                  <h3>Personalizacja</h3>
                  <div class="switch">
                    <label for="theme-toggle">Tryb Ciemny / Jasny</label>
                    <input type="checkbox" id="theme-toggle" />
                  </div>
                </div>
                <div class="setting-card">
                  <h3>Konto</h3>
                  <p>Zalogowano jako: <b id="settings-username"></b></p>
                  <button id="logout-btn" class="btn btn-ghost">Wyloguj</button>
                  <button id="wipe-btn" class="btn" style="background: var(--bad); margin-left: 10px">Usuń konto</button>
                </div>
                <div class="setting-card">
                  <h3>Kontakt</h3>
                  <p>Masz pytania lub sugestie? Skontaktuj się z deweloperem:</p>
                  <a href="mailto:matyyes@wp.pl" style="color: var(--acc1)">matyyes@wp.pl</a>
                </div>
              </div>
            </section>
          </div>
        </main>
      </div>
    </div>

    <script src="scripts/liga.js" defer></script>
  </body>
</html>
